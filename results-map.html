<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Work Rimot - Bringing People Together</title>
    <meta name="description" content="Let's uncover the best places to work remotely near you." />
    <meta name="keywords" content="work, spaces, free, cafe, coffee, wifi, manhattan, new york, remote" />

    <meta property="og:title" content="Work Rimot - Bringing People Together" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Let's uncover the best places to work remotely near you." />
    <meta property="og:url" content="https://workrimot.com" />

    <!-- Relinked Boostrap CSS CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Slick Slider CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <!-- Slick Theme CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <!-- Simple line Icon -->
    <link rel="stylesheet" href="assets/css/simple-line-icons.css">
    <!-- Themify Icon -->
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <!-- Hover Effects -->
    <link rel="stylesheet" href="assets/css/set1.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    

</head>

<body>
        <div class="dark-bg sticky-top">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <nav class="navbar navbar-expand-lg navbar-light">
                                    <a class="navbar-brand" href="/">
                                        <img src="assets/images/rimote-logo.svg" alt="rimote-logo" id="rimotLogo" href="index.html">
                                    </a>
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="icon-menu"></span>
                    </button>
                                <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                                    <ul class="navbar-nav">
                                        <li class="nav-item dropdown">
                                            <a class="nav-link" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           Explore
                           <span class="icon-arrow-down"></span></a>
                                            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                                    <a class="dropdown-item" href="search/index.html?lat=40.80895639999999&lang=-73.96243270000002">Morningside
                                                        Heights</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.81155039999999&lang=-73.9464769">Harlem</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7957399&lang=-73.9389213">East
                                                        Harlem</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7870106&lang=-73.97536760000003">Upper
                                                        West Side</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.77356489999999&lang=-73.9565551">Upper
                                                        East Side</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7637581&lang=-73.99181809999999">Midtown
                                                        West & East</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7465004&lang=-74.00137370000004">Chelsea</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7478792&lang=-73.9756567">Murray
                                                        Hill</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7367783&lang=-73.98447220000003">Gramercy</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7264773&lang=-73.9815337">East
                                                        Village</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.7335719&lang=-74.00274179999997">Greenwich
                                                        Village</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.72330099999999&lang=-74.00298829999997">Soho</a>
                                                    <a class="dropdown-item" href="search/index.html?lat=40.715033&lang=-73.98427240000001">Lower
                                                        East Side</a>
                                            </div>
                                        </li>
                                        <li class="nav-item active">
                                            <a class="nav-link" href="#">About</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="#">Blog</a>
                                        </li>
                                        <li><a href="#" class="btn btn-outline-light top-btn"><span class="ti-plus"></span> Add Listing</a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
            <!--//END HEADER -->
            <!--============================= DETAIL =============================-->
            <section>
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-7 responsive-wrap">
                            <div class="row detail-filter-wrap">
                                <div class="col-md-4 featured-responsive">
                                </div>
                                <div class="col-md-8 featured-responsive">
                                    <div class="detail-filter">
                                        <div class="map-responsive-wrap">
                                            <a class="map-icon" href="#"><span class="icon-location-pin"></span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row detail-checkbox-wrap">
                                <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3">

                                </div>
                            </div>
                            <div class="row light-bg detail-options-wrap">
                                <div class="col-sm-6 col-lg-12 col-xl-6 featured-responsive">
                                    <div class="featured-place-wrap">
                                        <a href="detail.html">
                                            <img src="images/featured1.jpg" class="img-fluid" alt="#">
                                            <span class="featured-rating-orange ">6.5</span>
                                            <div class="featured-title-box">
                                                <h6>Burger &amp; Lobster</h6>
                                                <p>Restaurant </p> <span>• </span>
                                                <p>3 Reviews</p> <span> • </span>
                                                <p><span>$$$</span>$$</p>
                                                <ul>
                                                    <li><span class="icon-location-pin"></span>
                                                        <p>1301 Avenue, Brooklyn, NY 11230</p>
                                                    </li>
                                                    <li><span class="icon-screen-smartphone"></span>
                                                        <p>+44 20 7336 8898</p>
                                                    </li>
                                                    <li><span class="icon-link"></span>
                                                        <p>https://burgerandlobster.com</p>
                                                    </li>
        
                                                </ul>
                                                <div class="bottom-icons">
                                                    <div class="closed-now">CLOSED NOW</div>
                                                    <span class="ti-heart"></span>
                                                    <span class="ti-bookmark"></span>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5 responsive-wrap map-wrap">
                            <div class="map-fix">
                                <!-- data-toggle="affix" -->
                                <!-- Google map will appear here! Edit the Latitude, Longitude and Zoom Level below using data-attr-*  -->
                                <div id="map" data-lat="40.674" data-lon="-73.945" data-zoom="14"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

    <div id="map"></div>

    <!--//Needed to reorganize my script links for the dropdown menu to work-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgBO7u3km3m85oAstb-On7w7m5k78g_hY&libraries=places"></script>
    <script src="https://unpkg.com/popper.js/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="./assets/js/global.js"></script>

    <script>
        
        var input = document.getElementById("search");
        var autocomplete = new google.maps.places.Autocomplete(input);

        google.maps.event.addDomListener(input, 'keydown', function(event) { 
            if (event.keyCode === 13) { 
                event.preventDefault();
                if($("#search").val()){
                    google.maps.event.trigger(event.target, 'keydown', {
                        keyCode: 40,
                    });
                }
            }
        }); 

        autocomplete.addListener('place_changed', function (event) {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                //window.alert("No details available for input: '" + place.name + "'");
                //return;
            } else {
                window.location = './search/?lat=' + place.geometry.location.lat() + '&lang=' + place.geometry.location.lng() + "&zoom=17&id=" + place.id;
                console.log('place',
                    `/search/?lat=${place.geometry.location.lat()}&lang=${place.geometry.location.lng()}`);
            }
        });

        $(document).on("click",".get-location",function(e){
            e.preventDefault();
            console.log("get location");
            getLocation();
            $(this).addClass("rotate");
            return false;
        });

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
                $(".get-location").addClass("rotate");
            } else {
            alert("Geolocation is not supported by this browser.");
            }
        }
        function showPosition(position) {
            var lat = position.coords.latitude;
            var lng = position.coords.longitude;
            console.log("get coords "+lat+" "+lng);
            window.location = './search/?lat=' + lat + '&lang=' + lng + "&zoom=15";
        }

        $(document).ready(function(){
    
            var recommendedPlaces = [
                'ChIJZ9aRM8dYwokRzIfuGYNVasM',
                'ChIJz_BNjohYwokRjo68GTMP6zY',
                'ChIJ_dckWptZwokR_LkU9WxPNZ4',
                'ChIJHy0ZlqNZwokRABxBCQR_37o',
                'ChIJoWoj3YNZwokROOadcIr5tXo',
                'ChIJQwtmq3v2wokRNOjx5cEBhXg',
                'ChIJM77SlaFZwokRUdDxtDv9560',
                'ChIJaz4QVx32wokRfpu9QxuGV-w'
            ];

            shuffle(recommendedPlaces);

            for(var i = 0; i < recommendedPlaces.length; i++){
                createRecommendedCards(recommendedPlaces[i]);
            }

            function createRecommendedCards(placeId) {
                var request = {
                    placeId: placeId,
                };
                var service = new google.maps.places.PlacesService($("#map").get(0));
                service.getDetails(request, function(place, status) {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                        console.log("place",place);
                        if(place.photos.length && place.name){
                                
                            var photo = place.photos[0].getUrl({'maxWidth': 300, 'maxHeight': 300});

                            $('.responsiveRow').slick('slickAdd',`
                            <div class="featured-responsive">
                                <div class="featured-place-wrap">
                                    <a href="/search/?lat=${place.geometry.location.lat()}&lang=${place.geometry.location.lng()}&zoom=17&id=${place.id}">
                                        
                                        <span style="background: url(${photo}) center center no-repeat; background-size: cover; display: inline-block; width: 100%;">
                                        <img src="assets/images/featured3.jpg" style="opacity: 0;" class="img-fluid" alt="image ${i}" />
                                        </span>

                                        <span class="featured-rating-orange">${place.rating}</span>
                                        <div class="featured-title-box">
                                            <h6>${place.name}</h6>
                                            <p style="text-transform: capitalize;">${place.types[0]} </p> 
                                            <p>
                                                ${place.price_level && place.price_level === 4 ? ' <span> • </span>  Prices: <span>$$$$</span>' : ''}
                                                ${place.price_level && place.price_level === 3 ? ' <span> • </span>  Prices: <span>$$$</span>$' : ''}
                                                ${place.price_level && place.price_level === 2 ? ' <span> • </span>  Prices: <span>$$</span>$$' : ''}
                                                ${place.price_level && place.price_level === 1 ? ' <span> • </span>  Prices: <span>$</span>$$$' : ''}
                                                ${place.price_level && place.price_level === 0 ? ' <span> • </span>  Prices: $$$$' : ''}
                                            </p>
                                            <ul class="top-icons">
                                                <li><span class="icon-location-pin"></span>
                                                    <p>${place.formatted_address}</p>
                                                </li>
                                                <li><span class="icon-phone"></span>
                                                    <p>${place.formatted_phone_number}</p>
                                                </li>
                                            </ul>
                                            <div class="bottom-icons">
                                                ${place.opening_hours && place.opening_hours.open_now ? 
                                                `<div class="open-now">Open Now</div>` : 
                                                `<div class="closed-now">Currently Closed</div>`}    
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>`);                   
                        }
                    }
                });
            }

            function shuffle(array) {

            // set up variables
            var currentIndex = array.length, temporaryValue, randomIndex;

            // While there remain elements to shuffle...
            while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = array[currentIndex];
            array[currentIndex] = array[randomIndex];
            array[randomIndex] = temporaryValue;
            }
            return array;
            }

    
        });

    </script>

</body>

</html>