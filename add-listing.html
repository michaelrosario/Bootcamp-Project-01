<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Add Listing - Work Rimot</title>
    <meta name="description" content="Add your business to Rimot and get people working in your establishment" />
    <meta name="keywords" content="work, spaces, free, cafe, coffee, wifi, manhattan, new york, remote" />

    <meta property="og:title" content="Add a Listing - Work Rimot" />
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Learn more about Rimot and the team." />
    <meta property="og:url" content="https://workrimot.com/add-listing.html" />

    <!-- Relinked Boostrap CSS CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Simple line Icon -->
    <link rel="stylesheet" href="assets/css/simple-line-icons.css">
    <!-- Themify Icon -->
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <!-- Hover Effects -->
    <link rel="stylesheet" href="assets/css/set1.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
<!--    -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" href="assets/css/form-style-jt.css">

</head>

<body>
    <div class="nav-menu">
        <div class="bg transition">
            <div class="container-fluid fixed">
                <div class="row">
                    <div class="col-md-12">
                        <nav class="navbar navbar-expand-md navbar-light">
                            <a class="navbar-brand" href="/">
                                <img src="assets/images/rimote-logo.svg" alt="rimote-logo" id="rimotLogo" href="index.html">
                            </a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="line1"></span>
                                <span class="line2"></span>
                                <span class="line3"></span>
                            </button>
                            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                                <ul class="navbar-nav">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Explore
                                            <span class="icon-arrow-down"></span>
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <a class="dropdown-item" href="search/index.html?lat=40.80895639999999&lang=-73.96243270000002">Morningside Heights</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.81155039999999&lang=-73.9464769">Harlem</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7957399&lang=-73.9389213">East Harlem</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7870106&lang=-73.97536760000003">Upper West Side</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.77356489999999&lang=-73.9565551">Upper East Side</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7637581&lang=-73.99181809999999">Midtown West & East</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7465004&lang=-74.00137370000004">Chelsea</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7478792&lang=-73.9756567">Murray Hill</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7367783&lang=-73.98447220000003">Gramercy</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7264773&lang=-73.9815337">East Village</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7335719&lang=-74.00274179999997">Greenwich Village</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.72330099999999&lang=-74.00298829999997">Soho</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.715033&lang=-73.98427240000001">Lower East Side</a>
                                        </div>
                                    </li>
                                    <!--
                                    <li class="nav-item dropdown">
                                        <a class="nav-link" href="#" id="navbarDropdownMenuLink1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Listing
                                        <span class="icon-arrow-down"></span>
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <a class="dropdown-item" href="#">Action</a>
                                            <a class="dropdown-item" href="#">Another action</a>
                                            <a class="dropdown-item" href="#">Something else here</a>
                                        </div>
                                    </li>
                                    -->
                                    <li class="nav-item active">
                                        <a class="nav-link" href="./about.html">About Us</a>
                                    </li>
                                    <!--
                                    <li class="nav-item">
                                        <a class="nav-link" href="./blog.html">Blog</a>
                                    </li>
                                    -->
                                    <li><a href="./add-listing.html" class="btn btn-outline-light top-btn"><span class="ti-plus"></span> Add Listing</a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- SLIDER -->
    <section id="parallax-header" class="masthead">
       <div class="container">
           <div class="columns col-md-12">
                <h1 class="text-center">Add Listing</h1>  <!--okay-->          
            </div>
       </div>
    </section>
    <script>
        document.getElementById("parallax-header").setAttribute('style',"opacity: 1; background: #fff url(assets/images/slider.jpg) no-repeat; background-size: cover; backgroundPositionY:"+(document.body.scrollTop)*0.5 );
    </script>
    <!--// SLIDER -->
    <!--//END HEADER -->
    <!--============================= FEATURED PLACES =============================-->
    <section class="main-block light-bg">
	<form id="add-a-listing">
	<div class="form-style-jt">
	<h1>Add Your Business</h1>
	<div class="container">
	
		<div class="row justify-content-center">
			<div class="col-md-6 col-padding">
				<div class="section"><span>1</span>Find Your Business</div>
				<div class="inner-wrap">
			<!--
					<label>Your Full Name <input type="text" name="field1" /></label>
					<label>Address <textarea name="field2"></textarea></label>
			-->
					<input type="text" class="form-control" id="search" placeholder="">
				</div>

				<div class="section"><span>2</span>Address</div>
				<div class="inner-wrap">
			<!--
					<label>Email Address <input type="text" class="form-control" id="address" placeholder="Your Business"></label>
					<label>Phone Number <input type="text" name="field4" /></label>
			-->
					<input type="text" class="form-control" id="address" placeholder="">
				</div>

				<div class="section"><span>3</span>Website</div>
				<div class="inner-wrap">
					<label><input type="text" class="form-control" id="website" placeholder=""></label>
				</div>
<!--
				<div class="button-section">
				 <input type="submit" name="Sign Up" />
				 <span class="privacy-policy">
				 <input type="checkbox" name="field7">You agree to our Terms and Policy. 
				 </span>
				</div>
-->
	
			</div>
			<div class="col-md-6">
				
				<div class="section"><span>4</span>Full name</div>
				<div class="inner-wrap">
					<label>First Name <input type="text" class="form-control" id="firstName" placeholder="" required /></label>
					<label>Last Name <input type="text" class="form-control" id="lastName" placeholder="" required /></label>
				</div>

				<div class="section"><span>5</span>Email Address</div>
				<div class="inner-wrap">
			<!--
					<label>Email Address <input type="text" class="form-control" id="address" placeholder="Your Business"></label>
					<label>Phone Number <input type="text" name="field4" /></label>
			-->
					<label><input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="" required /></label>
				</div>
				
				<div class="section"><span>6</span>Business Type &amp; Amenities</div>
				<div class="inner-wrap">
					<div class="row">
						<div id="business-type" class="col-sm-6">

							<h6>Business Type</h6>
							<div class="checkbox">
								<label class="form-check-label" for="form-coffee">
									<input name="type" value="Coffee Shop" class="form-check-label" type="checkbox" id="form-coffee" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Coffee Shop 
								</label>

								<label class="form-check-label" for="form-restaurant">
										<input name="type" value="Restaurant" class="form-check-label" type="checkbox" id="form-restaurant" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Restaurant
								</label>

								<label class="form-check-label" for="form-bar">
										<input name="type" value="Bar" class="form-check-label" type="checkbox" id="form-bar" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Bar
								</label>

								<label class="form-check-label" for="form-coworking">
										<input name="type" value="Coworking Space" class="form-check-label" type="checkbox" id="form-coworking" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Coworking Space
								</label>
							</div>   
						</div>

						<div id="amenities" class="col-sm-6">
							<h6>Available Amenities</h6>
							<div class="checkbox">
								<label class="form-check-label" for="form-wifi">
									<input name="amenities" value="Free Wi-Fi" class="form-check-label" type="checkbox" id="form-wifi" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Free Wi-Fi 
								</label>

								<label class="form-check-label" for="form-power">
									<input name="amenities" value="Power Outlets" class="form-check-label" type="checkbox" id="form-power" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Power Outlets
								</label>

								<label class="form-check-label" for="form-restroom">
									<input name="amenities" value="Restrooms" class="form-check-label" type="checkbox" id="form-restroom" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Restrooms
								</label>

								<label class="form-check-label" for="form-food">
									<input name="amenities" value="Food/Drink" class="form-check-label" type="checkbox" id="form-food" required />
									<span class="cr"><i class="cr-icon fa fa-check"></i></span>
									Food/Drink
								</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="col-sm-12 text-center">
				<input id="placeId" name="placeId" value="" type="hidden">
				<button name="submit" type="button" value="submit" class="submit-button btn btn-primary">Submit</button>
			</div>
		</div>		
	
	</div>
</div>
</form>	
	</section>

    <style>
        #business-type label,
        #amenities label {
            display: block;
			font-size: 1.2em;
        }
    </style>

   
    <!--//END CATEGORIES -->
    <!--============================= ADD LISTING =============================-->

    <!--//END ADD LISTING -->
    <!--============================= FOOTER =============================-->
    <footer class="main-block dark-bg">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="copyright">
                            <p>Copyright 2019&copy;</p>
                            <ul>
                                <li><a href="#"><span class="ti-facebook"></span></a></li>
                                <li><a href="#"><span class="ti-twitter-alt"></span></a></li>
                                <li><a href="#"><span class="ti-instagram"></span></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--//END FOOTER -->
    
    <!--//Needed to reorganize my script links for the dropdown menu to work-->

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoNRzL9ESfNfTSMEGMsGNnM-a2a5PemIk&libraries=places"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js" integrity="sha256-dHf/YjH1A4tewEsKUSmNnV05DDbfGN3g7NMq86xgGh8=" crossorigin="anonymous"></script>-->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="assets/js/global.js"></script>    
	<script>

	
		$("#add-a-listing").validator();
        $("#add-a-listing").on("submit",function(e){
            e.preventDefault();

            return false;

        });

		var options = {
            keyword:'cafe',
            types: ['establishment']
        }
		
        var input = document.getElementById("search");
        var autocomplete = new google.maps.places.Autocomplete(input, options);

        autocomplete.addListener('place_changed', function () {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                window.alert("No details available for input: '" + place.name + "'");
                return;
            } else {
                console.log(place);
                //window.location = './search/?lat=' + place.geometry.location.lat() + '&lang=' + place.geometry.location.lng() + "&zoom=15&id=" + place.id;
                $("#address").val(place.formatted_address);
                $("#website").val(place.url);
                $("#placeId").val(place.id); 
            }
        });

        // FIREBASE CONFIG
        var config = {
        apiKey: "AIzaSyDbUywd58phZolNaXoEYSvAskt2gw0QGLE",
        authDomain: "rimot-41ba4.firebaseapp.com",
        databaseURL: "https://rimot-41ba4.firebaseio.com",
        projectId: "rimot-41ba4",
        storageBucket: "",
        messagingSenderId: "219006616621"
        };

        firebase.initializeApp(config);

        var database = firebase.database();
        var checkins = database.ref("/check-ins");
    

        $(".submit-button").on("click",function(e){
    
            e.preventDefault();
            var id = $("#placeId").val();

            if(id){
                var businessType = [];
                var amenities = [];

                $("input[name=type]:checked").each(function(){
                    businessType.push($(this).val());
                    console.log($(this).val());
                });

                $("input[name=amenities]:checked").each(function(){
                    amenities.push($(this).val());
                    console.log($(this).val());
                });

                var listingData = {
                    firstName: $("#firstName").val(),
                    lastName: $("#lastName").val(),
                    email: $("#email").val(),
                    amenities: amenities,
                    businessType: businessType
                }

                console.log(listingData);

                database.ref("/check-ins/"+id).update(listingData);
            }
           

        });
    </script>
</body>

</html>