<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Add a Listing - Work Rimot</title>
    <meta name="description" content="Add your business to Rimot and get people working in your establishment" />
    <meta name="keywords" content="work, spaces, free, cafe, coffee, wifi, manhattan, new york, remote" />

    <meta property="og:title" content="Add a Listing - Work Rimot" />
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Learn more about Rimot and the team." />
    <meta property="og:url" content="https://workrimot.com/add-listing.html" />

    <!-- Relinked Boostrap CSS CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Simple line Icon -->
    <link rel="stylesheet" href="assets/css/simple-line-icons.css">
    <!-- Themify Icon -->
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <!-- Hover Effects -->
    <link rel="stylesheet" href="assets/css/set1.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

</head>

<body>
    <div class="nav-menu">
        <div class="bg transition">
            <div class="container-fluid fixed">
                <div class="row">
                    <div class="col-md-12">
                        <nav class="navbar navbar-expand-md navbar-light">
                            <a class="navbar-brand" href="/">
                                <img src="assets/images/rimote-logo.svg" alt="rimote-logo" id="rimotLogo" href="index.html">
                            </a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="line1"></span>
                                <span class="line2"></span>
                                <span class="line3"></span>
                            </button>
                            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                                <ul class="navbar-nav">
                                    <li class="nav-item dropdown">
                                        <a class="nav-link" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Explore
                                            <span class="icon-arrow-down"></span>
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <a class="dropdown-item" href="search/index.html?lat=40.80895639999999&lang=-73.96243270000002">Morningside Heights</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.81155039999999&lang=-73.9464769">Harlem</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7957399&lang=-73.9389213">East Harlem</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7870106&lang=-73.97536760000003">Upper West Side</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.77356489999999&lang=-73.9565551">Upper East Side</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7637581&lang=-73.99181809999999">Midtown West & East</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7465004&lang=-74.00137370000004">Chelsea</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7478792&lang=-73.9756567">Murray Hill</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7367783&lang=-73.98447220000003">Gramercy</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7264773&lang=-73.9815337">East Village</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.7335719&lang=-74.00274179999997">Greenwich Village</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.72330099999999&lang=-74.00298829999997">Soho</a>
                                            <a class="dropdown-item" href="search/index.html?lat=40.715033&lang=-73.98427240000001">Lower East Side</a>
                                        </div>
                                    </li>
                                    <!--
                                    <li class="nav-item dropdown">
                                        <a class="nav-link" href="#" id="navbarDropdownMenuLink1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Listing
                                        <span class="icon-arrow-down"></span>
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <a class="dropdown-item" href="#">Action</a>
                                            <a class="dropdown-item" href="#">Another action</a>
                                            <a class="dropdown-item" href="#">Something else here</a>
                                        </div>
                                    </li>
                                    -->
                                    <li class="nav-item active">
                                        <a class="nav-link" href="./about.html">About</a>
                                    </li>
                                    <!--
                                    <li class="nav-item">
                                        <a class="nav-link" href="./blog.html">Blog</a>
                                    </li>
                                    -->
                                    <li><a href="./add-listing.html" class="btn btn-outline-light top-btn"><span class="ti-plus"></span> Add Listing</a></li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- SLIDER -->
    <section id="parallax-header" class="masthead">
       <div class="container">
           <div class="columns col-md-12">
                <h1 class="text-center">Add a Listing</h1>  <!--okay-->          
            </div>
       </div>
    </section>
    <script>
        document.getElementById("parallax-header").setAttribute('style',"opacity: 1; background: #fff url(assets/images/slider.jpg) no-repeat; background-size: cover; backgroundPositionY:"+(document.body.scrollTop)*0.5 );
    </script>
    <!--// SLIDER -->
    <!--//END HEADER -->
    <!--============================= FEATURED PLACES =============================-->
    <section class="main-block light-bg">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12">
                        <h4>Add Your Business</h4>
                        <form id="add-a-listing">
                            <div class="form-row">
                                <div class="col-md-12">
                                    <label for="businessName">Find Your Business</label>
                                    <input type="text" class="form-control" id="search" placeholder="Your Business">
                                </div>
                            </div>
                            <div class="form-row">
                                    <div class="col-md-12">
                                        <label for="businessName">Address</label>
                                        <input type="text" class="form-control" id="address" placeholder="Your Business">
                                    </div>
                                </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="firstName">First Name</label>
                                    <input type="text" class="form-control" id="firstName" placeholder="First name">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" placeholder="Last name">
                                </div>
                            </div>
                            <div class="form-row">
                                    <div class="form-group col-md-6">
                                            <label for="website">Website</label>
                                            <input type="text" class="form-control" id="website" placeholder="Website">
                                    </div>
                                <div class="form-group col-md-6">
                                <label for="email">Email address</label>
                                <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                                </div>
                            </div>
                       
                                
                            <div id="business-type" class="form-group row">
                                <div class="col-sm-6">
                                    Business Type  
                                    <label class="form-check-label" for="form-coffee">
                                        <input name="type" value="Coffee Shop" class="form-check-input" type="checkbox" id="form-coffee">
                                        Coffee Shop 
                                    </label>
                                                                    
                                    <label class="form-check-label" for="form-restaurant">
                                            <input name="type" value="Restaurant" class="form-check-input" type="checkbox" id="form-restaurant">
                                            Restaurant
                                    </label>
                                                                
                                    <label class="form-check-label" for="form-bar">
                                            <input name="type" value="Bar" class="form-check-input" type="checkbox" id="form-bar">
                                            Bar
                                    </label>
                                                            
                                    <label class="form-check-label" for="form-coworking">
                                            <input name="type" value="Coworking Space" class="form-check-input" type="checkbox" id="form-coworking">
                                            Coworking Space
                                    </label>
                                            
                                    <label class="form-check-label" for="form-other-2">
                                            <input name="type" value="Other" class="form-check-input" type="checkbox" id="form-other-2">
                                            Other
                                    </label>

                                </div>
                            
                                <div id="amenities" class="col-sm-6">
                                    Available Amenities
                                
                                    <label class="form-check-label" for="form-wifi"></label>
                                        <input name="amenities" value="Free Wi-Fi" class="form-check-input" type="checkbox" id="form-wifi">
                                        Free Wi-Fi 
                                    </label>
                                
                                    <label class="form-check-label" for="form-power"></label>
                                        <input name="amenities" value="Power Outlets" class="form-check-input" type="checkbox" id="form-power">
                                        Power Outlets
                                    </label>
                                    
                                    <label class="form-check-label" for="form-restroom"></label>
                                        <input name="amenities" value="Restrooms" class="form-check-input" type="checkbox" id="form-restroom">
                                        Restrooms
                                    </label>
                                    
                                    <label class="form-check-label" for="form-food"></label>
                                        <input name="amenities" value="Food/Drink" class="form-check-input" type="checkbox" id="form-food">
                                        Food/Drink
                                    </label>
                                
        <label class="form-check-label" for="form-coworking">
                <input class="form-check-input" type="checkbox" id="form-coworking">
                Coworking Space
        </label>
                
<!--
        <label class="form-check-label" for="form-other-2">
                <input class="form-check-input" type="checkbox" id="form-other-2">
                Other
        </label>
-->

                                </div>
                            </div>
                        
                            <div class="row">
                                <div class="col-sm-12 text-center">
                                    <input id="placeId" name="placeId" value="" type="hidden">
                                    <button type="submit" class="submit-button btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </form>
                </div>
            </div>
        </div>
    </section>

    <style>
        #business-type label,
        #amenities label {
            display: block;
        }
    </style>
<!--------------------------------------------->
<div id="amenities" class="form-group row">
        <div class="col-sm-12">
            Available Amenities
        
            <label class="form-check-label" for="form-wifi"></label>
                <input class="form-check-input" type="checkbox" id="form-wifi">
                Free Wi-Fi 
            </label>
        
            <label class="form-check-label" for="form-power"></label>
                <input class="form-check-input" type="checkbox" id="form-power">
                Power Outlets
            </label>
            
            <label class="form-check-label" for="form-restroom"></label>
                <input class="form-check-input" type="checkbox" id="form-restroom">
                 Restrooms
            </label>
            
            <label class="form-check-label" for="form-food"></label>
                <input class="form-check-input" type="checkbox" id="form-food">
                Food/Drink
            </label>
        
<!--
            <label class="form-check-label" for="form-other"></label>
                <input class="form-check-input" type="checkbox" id="form-other">
                Other
            </label>

-->
        </div>
    </div>
</div>

<style>
#amenities label { display: block; }
</style>
<div class="row">
    <div class="col-sm-12 text-center">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
</div>
    </form>
                
    </section>
   
    <!--//END CATEGORIES -->
    <!--============================= ADD LISTING =============================-->

    <!--//END ADD LISTING -->
    <!--============================= FOOTER =============================-->
    <footer class="main-block dark-bg">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="copyright">
                            <p>Copyright 2019&copy;</p>
                            <ul>
                                <li><a href="#"><span class="ti-facebook"></span></a></li>
                                <li><a href="#"><span class="ti-twitter-alt"></span></a></li>
                                <li><a href="#"><span class="ti-instagram"></span></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--//END FOOTER -->
    
    <!--//Needed to reorganize my script links for the dropdown menu to work-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoNRzL9ESfNfTSMEGMsGNnM-a2a5PemIk&libraries=places"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  
    <script>

        $("#add-a-listing").on("submit",function(e){
            e.preventDefault();

            return false;

        });

        var input = document.getElementById("search");
        var autocomplete = new google.maps.places.Autocomplete(input);

        autocomplete.addListener('place_changed', function () {
            var place = autocomplete.getPlace();
            if (!place.geometry) {
                window.alert("No details available for input: '" + place.name + "'");
                return;
            } else {
                console.log(place);
                //window.location = './search/?lat=' + place.geometry.location.lat() + '&lang=' + place.geometry.location.lng() + "&zoom=15&id=" + place.id;
                $("#address").val(place.formatted_address);
                $("#website").val(place.url);
                $("#placeId").val(place.id); 
            }
        });

        // FIREBASE CONFIG
        var config = {
        apiKey: "AIzaSyDbUywd58phZolNaXoEYSvAskt2gw0QGLE",
        authDomain: "rimot-41ba4.firebaseapp.com",
        databaseURL: "https://rimot-41ba4.firebaseio.com",
        projectId: "rimot-41ba4",
        storageBucket: "",
        messagingSenderId: "219006616621"
        };

        firebase.initializeApp(config);

        var database = firebase.database();
        var checkins = database.ref("/check-ins");
    

        $(".submit-button").on("click",function(e){
    
            e.preventDefault();
            var id = $("#placeId").val();

            if(id){
                var businessType = [];
                var amenities = [];

                $("input[name=type]:checked").each(function(){
                    businessType.push($(this).val());
                    console.log($(this).val());
                });

                $("input[name=amenities]:checked").each(function(){
                    amenities.push($(this).val());
                    console.log($(this).val());
                });

                var listingData = {
                    firstName: $("#firstName").val(),
                    lastName: $("#lastName").val(),
                    email: $("#email").val(),
                    amenities: amenities,
                    businessType: businessType
                }

                console.log(listingData);

                database.ref("/check-ins/"+id).update(listingData);
            }
           

        });

    </script>

    
</body>

</html>